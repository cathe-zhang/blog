# 2020.03.15

今天是周日，周五的时候遇到了一个很奇怪的问题，之前开发了很久的一个uniapp项目，jenkins打包突然报错，而且本地项目也启动不了了，大概报的是找不到 vue-loader 这个模块，第一反应是可能装依赖出了问题，于是把 node_modules 文件夹删掉然后重装依赖，发现还是一样的问题。

这就有点纳闷了，为什么之前一直没有问题呢，而且同组的小伙伴也没有这个问题，都可以正常启动，于是就去找到了对应的依赖，@dcloudio/vue-cli-plugin-uni，发现里面根本没有 vue-loader 这个文件，那么找不到模块就可以理解了，但是还是不知道是怎么导致的。

已经跟测试说好了上午把bug改完，结果出这么个幺蛾子，再加上之前一直觉得uniapp 这个版本有问题，于是干脆把整个uniapp依赖全部更新了一遍，更新完之后果然没问题了，也就没太在意了，因为已经习惯了第三方依赖出状况，但是一直没想通为什么别人都没有问题。

今天老大找我，说从master拉了一个分支启动报错了，发现是跟我一样的问题，仔细想了想，前两天才用master发了生产的版本，打包没有出现问题，既然如此，会不会是因为依赖更新了？于是去看了一下package.json的提交记录，发现上一次提交还是三周前，那么肯定不是因为谁改了依赖版本了，那么唯一可以解释得通的因为依赖写了三角符号，所以在yarn的时候自动更新了版本，于是在本地把三角符号全部删掉，然后删除node_modules重装，果然ok了。

吸取教训，以后在项目中的依赖一定不要写三角符号，这样才能保持依赖稳定，不会因为第三方依赖更新有问题导致项目打包报错。