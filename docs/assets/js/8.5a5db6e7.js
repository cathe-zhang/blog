(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{171:function(s,t,n){s.exports=n.p+"assets/img/taro_template_structure.ac100b9e.png"},243:function(s,t,n){"use strict";n.r(t);var a=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"基于taro-typescript的多端项目搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基于taro-typescript的多端项目搭建"}},[s._v("#")]),s._v(" 基于Taro+TypeScript的多端项目搭建")]),s._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("blockquote",[a("p",[s._v("此文写于 Taro3 发布稳定版本之前，故所有内容均基于 Taro2.x 版本。")])]),s._v(" "),a("p",[s._v("在公司项目中，尤其是依靠微信生态的企业级C端项目，需要同时开发小程序+H5应用的需求非常常见，而综合用户体验、开发效率、维护成本几个关键点之后，选择了Taro作为多端开发的基础框架。选择Taro的理由：")]),s._v(" "),a("ul",[a("li",[s._v("跨端，支持 微信/支付宝/百度/字节跳动/京东小程序、h5、React Native")]),s._v(" "),a("li",[s._v("类React语法")]),s._v(" "),a("li",[s._v("官方积极维护，文档完善，问题处理快")])]),s._v(" "),a("p",[s._v("跨端支持不用多说，类 React 语法对于喜欢 React 多过 Vue 的同学也是福音，最重要的在于最后一点，uni-app无疑是当今最受欢迎的多端框架，即便不是专业的前端开发，也能在闲聊时说上两句，但其官方网站充斥的各种广告、居高临下的行文风格，以及官方QQ交流群只见问题不见回复等等，让笔者完全无法对其产生更多的好感。但从根本上来说，Taro和 UniApp都是优秀的跨端框架，选择了 Taro 更多的是由于个人喜好。")]),s._v(" "),a("h2",{attrs:{id:"架构设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#架构设计"}},[s._v("#")]),s._v(" 架构设计")]),s._v(" "),a("p",[s._v("针对于不同的项目定位，它所需要的展现形式以及拥有的能力都不尽相同。那么对于一个跨端框架模版来说，它到底需要哪些能力？")]),s._v(" "),a("ul",[a("li",[s._v("针对不同项目阶段的环境配置及编译")]),s._v(" "),a("li",[s._v("合理的项目架构，如service、store的设计")]),s._v(" "),a("li",[s._v("代码规范\n"),a("ul",[a("li",[s._v("git commit log规范")]),s._v(" "),a("li",[s._v("代码书写规范")])])]),s._v(" "),a("li",[s._v("请求能力的封装\n"),a("ul",[a("li",[s._v("request基础方法的封装，如get/post/put/delete等")]),s._v(" "),a("li",[s._v("拦截器，如url拦截，header拦截，data拦截等")])])]),s._v(" "),a("li",[s._v("模版文件的交互式一键生成")]),s._v(" "),a("li",[s._v("合理的入口页处理逻辑")]),s._v(" "),a("li",[s._v("自动化部署")])]),s._v(" "),a("p",[a("img",{attrs:{src:n(171),alt:"taro框架模版设计"}})]),s._v(" "),a("p",[s._v("一、项目结构")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("├── README.md                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目文档")]),s._v("\n├── commitlint.config.js           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# commitlint配置")]),s._v("\n├── config                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 环境配置")]),s._v("\n│   ├── dev.js                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开发环境配置")]),s._v("\n│   ├── index.js                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基础配置")]),s._v("\n│   ├── local.js                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本地配置")]),s._v("\n│   ├── pro.js                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生产环境配置")]),s._v("\n│   ├── test.js                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试环境配置")]),s._v("\n│   └── uat.js                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 预发环境配置")]),s._v("\n├── generators                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# plop 页面模版生成配置")]),s._v("\n│   ├── component                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# plop组件模版配置")]),s._v("\n│   ├── index.js                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# plop配置入口")]),s._v("\n│   ├── page                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# plop页面模版配置")]),s._v("\n│   ├── "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v("                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# plop service模版配置")]),s._v("\n│   └── store                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# plop store模版配置")]),s._v("\n├── global.d.ts                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ts全局声明文件")]),s._v("\n├── package.json                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 包配置")]),s._v("\n├── project.config.json            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 小程序配置文件")]),s._v("\n├── src                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 业务代码目录")]),s._v("\n│   ├── app.scss                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局样式")]),s._v("\n│   ├── app.tsx                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目入口文件")]),s._v("\n│   ├── components                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 业务组件存放目录")]),s._v("\n│   ├── constants                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 业务常量存放目录")]),s._v("\n│   ├── enums                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 业务枚举存放目录")]),s._v("\n│   ├── index.html                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# h5模版html文件")]),s._v("\n│   ├── interceptors               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 请求拦截器")]),s._v("\n│   │   ├── data.interceptor.ts    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# response data拦截")]),s._v("\n│   │   ├── header.interceptor.ts  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# request header拦截")]),s._v("\n│   │   ├── param.interceptor.ts   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# request param拦截")]),s._v("\n│   │   └── url.interceptor.ts     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# request url拦截")]),s._v("\n│   ├── pages                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 页面存放目录")]),s._v("\n│   ├── services                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后端接口存放目录")]),s._v("\n│   ├── store                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 状态管理存放目录")]),s._v("\n│   │   └── index.ts               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 状态管理入口文件")]),s._v("\n│   ├── styles                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 公用样式存放目录")]),s._v("\n│   │   ├── mixin.scss             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 混入公用样式")]),s._v("\n│   │   ├── theme.scss             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主题相关样式")]),s._v("\n│   │   └── var.scss               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 变量")]),s._v("\n│   └── utils                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 业务工具类")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])]),a("p",[s._v("二、项目规范")]),s._v(" "),a("p",[s._v("三、请求封装")]),s._v(" "),a("p",[s._v("四、业务处理")]),s._v(" "),a("p",[s._v("五、编译及部署（CI）")])])}],e=n(0),r=Object(e.a)({},(function(){var s=this.$createElement;this._self._c;return this._m(0)}),a,!1,null,null,null);t.default=r.exports}}]);